{"type": "object", "properties": {"apiVersion": {"description": "APIVersion defines the versioned schema of this representation of an object.\nServers should convert recognized schemas to the latest internal value, and\nmay reject unrecognized values.\nMore info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources", "type": "string"}, "kind": {"description": "Kind is a string value representing the REST resource this object represents.\nServers may infer this from the endpoint the client submits requests to.\nCannot be updated.\nIn CamelCase.\nMore info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds", "type": "string"}, "metadata": {"type": "object"}, "spec": {"type": "object", "properties": {"owner": {"type": "object", "properties": {"id": {"type": "string"}, "channel": {"type": "string"}}, "required": ["id", "channel"]}, "domains": {"type": "array", "minItems": 1, "items": {"type": "string"}}, "objectives": {"type": "array", "minItems": 1, "items": {"type": "string"}}, "mode": {"type": "string", "enum": ["assisted", "lights-out"]}, "timezone": {"type": "string"}, "cadence": {"type": "object", "properties": {"discoverEvery": {"type": "string"}, "planEvery": {"type": "string"}, "implementEvery": {"type": "string"}, "verifyEvery": {"type": "string"}}, "required": ["discoverEvery", "planEvery", "implementEvery", "verifyEvery"]}, "discovery": {"type": "object", "properties": {"minCitations": {"type": "integer", "minimum": 1}, "minConfidence": {"type": "number", "minimum": 0, "maximum": 1}, "sources": {"type": "array", "minItems": 1, "items": {"type": "object", "properties": {"name": {"type": "string"}, "kind": {"type": "string"}, "url": {"type": "string"}}, "required": ["name"]}}}, "required": ["sources"]}, "delivery": {"type": "object", "properties": {"repoAllowlist": {"type": "array", "items": {"type": "string"}}, "requiredChecks": {"type": "array", "items": {"type": "string"}}, "mergePolicy": {"type": "string", "enum": ["auto-merge", "merge-queue"]}, "deploymentTargets": {"type": "array", "items": {"type": "string"}}, "rollout": {"type": "object", "properties": {"strategy": {"type": "string", "enum": ["canary"]}, "steps": {"type": "array", "items": {"type": "object", "properties": {"setWeight": {"type": "integer", "minimum": 1, "maximum": 100}, "pause": {"type": "string"}}, "required": ["setWeight", "pause"]}}, "analysisTemplateRef": {"type": "string"}}, "required": ["strategy"]}}, "required": ["deploymentTargets"]}, "risk": {"type": "object", "properties": {"budgetRef": {"type": "string"}, "approvalPolicyRef": {"type": "string"}, "freezeAfterFailures": {"type": "integer", "minimum": 1}, "freezeDuration": {"type": "string"}}}, "execution": {"type": "object", "properties": {"discover": {"type": "object", "properties": {"enabled": {"type": "boolean"}, "every": {"type": "string"}, "targetRef": {"type": "object", "properties": {"kind": {"type": "string", "enum": ["AgentRun", "OrchestrationRun"]}, "name": {"type": "string"}, "namespace": {"type": "string"}}, "required": ["kind", "name"]}}, "required": ["targetRef"]}, "plan": {"type": "object", "properties": {"enabled": {"type": "boolean"}, "every": {"type": "string"}, "targetRef": {"type": "object", "properties": {"kind": {"type": "string", "enum": ["AgentRun", "OrchestrationRun"]}, "name": {"type": "string"}, "namespace": {"type": "string"}}, "required": ["kind", "name"]}}, "required": ["targetRef"]}, "implement": {"type": "object", "properties": {"enabled": {"type": "boolean"}, "every": {"type": "string"}, "targetRef": {"type": "object", "properties": {"kind": {"type": "string", "enum": ["AgentRun", "OrchestrationRun"]}, "name": {"type": "string"}, "namespace": {"type": "string"}}, "required": ["kind", "name"]}}, "required": ["targetRef"]}, "verify": {"type": "object", "properties": {"enabled": {"type": "boolean"}, "every": {"type": "string"}, "targetRef": {"type": "object", "properties": {"kind": {"type": "string", "enum": ["AgentRun", "OrchestrationRun"]}, "name": {"type": "string"}, "namespace": {"type": "string"}}, "required": ["kind", "name"]}}, "required": ["targetRef"]}}, "required": ["discover", "plan", "implement", "verify"]}}, "required": ["owner", "domains", "objectives", "mode", "cadence", "discovery", "delivery", "execution"]}, "status": {"type": "object", "properties": {"phase": {"type": "string"}, "observedGeneration": {"format": "int64", "type": "integer"}, "updatedAt": {"format": "date-time", "type": "string"}, "lastDiscoverAt": {"format": "date-time", "type": "string"}, "lastPlanAt": {"format": "date-time", "type": "string"}, "lastImplementAt": {"format": "date-time", "type": "string"}, "lastVerifyAt": {"format": "date-time", "type": "string"}, "activeMissions": {"type": "integer"}, "queuedNeeds": {"type": "integer"}, "discoveries24h": {"type": "integer"}, "missions24h": {"type": "integer"}, "autonomousSuccessRate24h": {"type": "number"}, "lastProductionChangeRef": {"type": "string"}, "freeze": {"type": "object", "properties": {"reason": {"type": "string"}, "until": {"format": "date-time", "type": "string"}}}, "stageStates": {"type": "object", "x-kubernetes-preserve-unknown-fields": true}, "conditions": {"type": "array", "items": {"type": "object", "properties": {"type": {"type": "string"}, "status": {"type": "string"}, "reason": {"type": "string"}, "message": {"type": "string"}, "lastTransitionTime": {"type": "string"}}, "required": ["type", "status"]}}}}}, "required": [], "dependencies": {}, "definitions": {}, "additionalProperties": true}
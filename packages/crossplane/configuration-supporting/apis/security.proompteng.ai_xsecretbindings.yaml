apiVersion: apiextensions.crossplane.io/v1
kind: CompositeResourceDefinition
metadata:
  name: xsecretbindings.security.proompteng.ai
spec:
  group: security.proompteng.ai
  names:
    kind: XSecretBinding
    plural: xsecretbindings
  claimNames:
    kind: SecretBinding
    plural: secretbindings
  defaultCompositionRef:
    name: secretbinding-kubernetes
  versions:
    - name: v1alpha1
      served: true
      referenceable: true
      schema:
        openAPIV3Schema:
          type: object
          required:
            - spec
          properties:
            spec:
              type: object
              required: [allowedSecrets, subjects]
              properties:
                namespace: { type: string }
                allowedSecrets:
                  type: array
                  items: { type: string }
                subjects:
                  type: array
                  items:
                    type: object
                    required: [kind, name]
                    properties:
                      kind: { type: string }
                      name: { type: string }
                      namespace: { type: string }
            status:
              type: object
              properties:
                phase: { type: string }

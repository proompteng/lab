apiVersion: agents.proompteng.ai/v1alpha1
kind: AgentRun
metadata:
  name: codex-run-sample
spec:
  agentRef:
    name: codex-agent
  implementationSpecRef:
    name: codex-impl-sample
  runtime:
    type: job
    config:
      namespace: agents
      serviceAccount: codex-runner
  workload:
    image: ghcr.io/proompteng/codex-agent:latest
    resources:
      requests:
        cpu: 250m
        memory: 512Mi
  parameters:
    repo: proompteng/lab
    issue: "2450"
  secrets:
    - codex-github-token

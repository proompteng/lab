nameOverride: ""
fullnameOverride: ""

namespaceOverride: ""

replicaCount: 1

autoscaling:
  enabled: false
  minReplicas: 1
  maxReplicas: 3
  targetCPUUtilizationPercentage: 80
  targetMemoryUtilizationPercentage: null

image:
  repository: ghcr.io/proompteng/jangar
  tag: latest
  digest: ""
  pullPolicy: IfNotPresent
  pullSecrets: []

runner:
  image:
    repository: registry.ide-newton.ts.net/lab/codex-universal
    tag: latest
    digest: ""
    pullPolicy: IfNotPresent
    pullSecrets: []

serviceAccount:
  create: true
  name: ""
  annotations: {}

runnerServiceAccount:
  create: false
  name: ""
  annotations: {}
  setAsDefault: true
  rbac:
    create: false
    extraRules: []

rbac:
  create: true
  clusterScoped: false
  extraRules: []

service:
  type: ClusterIP
  port: 80
  annotations: {}
  labels: {}

grpc:
  enabled: true
  port: 50051
  servicePort: 50051
  serviceType: ClusterIP

resources:
  requests:
    cpu: 100m
    memory: 256Mi
  limits: {}

resourceQuota:
  enabled: false
  name: ""
  hard: {}
  scopes: []
  scopeSelector: {}
  annotations: {}
  labels: {}

limitRange:
  enabled: false
  name: ""
  limits: []
  annotations: {}
  labels: {}

podAnnotations: {}
podLabels: {}

securityContext: {}
containerSecurityContext: {}

nodeSelector: {}
affinity: {}
tolerations: []

livenessProbe:
  enabled: true
  path: /health
  initialDelaySeconds: 10
  periodSeconds: 10
  timeoutSeconds: 2
  failureThreshold: 6

readinessProbe:
  enabled: true
  path: /health
  initialDelaySeconds: 5
  periodSeconds: 10
  timeoutSeconds: 2
  failureThreshold: 6

podDisruptionBudget:
  enabled: false
  minAvailable: 1
  maxUnavailable: ""
  annotations: {}

networkPolicy:
  enabled: false
  policyTypes:
    - Ingress
    - Egress
  ingress: []
  egress: []
  annotations: {}

env:
  extra: []
  secrets: []
  config: []
  vars:
    NODE_ENV: production
    PORT: "8080"
    JANGAR_MIGRATIONS: "auto"

workflowRuntime:
  native:
    rerunOrchestration: ""
    rerunOrchestrationNamespace: ""
    systemImprovementOrchestration: ""
    systemImprovementOrchestrationNamespace: ""

envFromSecretRefs: []
envFromConfigMapRefs: []

controller:
  enabled: true
  namespaces: []
  concurrency:
    perNamespace: 10
    perAgent: 5
    cluster: 100
  queue:
    perNamespace: 200
    perRepo: 50
    cluster: 1000
  rate:
    windowSeconds: 60
    perNamespace: 120
    perRepo: 30
    cluster: 600
  agentRunRetentionSeconds: 2592000
  jobTtlSecondsAfterFinished: 600
  authSecret:
    name: ""
    key: auth.json
    mountPath: /root/.codex
  vcsProviders:
    enabled: true
    deprecatedTokenTypes:
      github:
        - pat
  defaultWorkload:
    serviceAccountName: ""
    nodeSelector: {}
    tolerations: []
    affinity: {}
    topologySpreadConstraints: []
    podSecurityContext: {}
    imagePullSecrets: []
    priorityClassName: ""
    schedulerName: ""

versionControlProvider:
  enabled: false
  name: github
  namespace: ""
  provider: github
  apiBaseUrl: https://api.github.com
  cloneBaseUrl: https://github.com
  webBaseUrl: https://github.com
  cloneProtocol: ""
  sshHost: ""
  sshUser: ""
  auth:
    method: token
    username: ""
    token:
      secretRef:
        name: ""
        key: token
      type: ""
    app:
      appId: ""
      installationId: ""
      privateKeySecretRef:
        name: ""
        key: privateKey
      tokenTtlSeconds: 0
    ssh:
      privateKeySecretRef:
        name: ""
        key: privateKey
      knownHostsConfigMapRef:
        name: ""
        key: known_hosts
  repositoryPolicy:
    allow: []
    deny: []
  capabilities:
    read: true
    write: true
    pullRequests: true
  defaults:
    baseBranch: main
    branchTemplate: codex/{{issueNumber}}
    commitAuthorName: codex
    commitAuthorEmail: codex@proompt.com
    pullRequest:
      enabled: true
      draft: false
      titleTemplate: "Codex: {{repository}}"
      bodyTemplate: "Closes #{{issueNumber}}"

orchestrationController:
  enabled: true
  namespaces: []

supportingController:
  enabled: true
  namespaces: []

agentComms:
  enabled: false
  nats:
    url: ""
    user: ""
    password: ""
    userSecret:
      name: ""
      usernameKey: username
      passwordKey: password

database:
  url: ""
  secretRef:
    name: ""
    key: url
  createSecret:
    enabled: false
    name: ""
    annotations: {}
  caSecret:
    name: ""
    key: ca.crt

extraVolumes: []
extraVolumeMounts: []

logging:
  level: info

podSecurityAdmission:
  enabled: false
  createNamespace: false
  labels: {}

kubernetesApi:
  host: ""
  port: ""

argocdHooks:
  enabled: false
  serviceAccountName: ""
  ttlSecondsAfterFinished: 300
  syncWaves:
    preSync: "-1"
    postSync: "1"
  image:
    repository: bitnami/kubectl
    tag: "1.30.1"
    pullPolicy: IfNotPresent
  preSync:
    enabled: true
  postSync:
    enabled: true
    waitTimeout: 10m
    cleanup: true
  smoke:
    labelSelector: ""
    agentRun: {}

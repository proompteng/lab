dataset_id: torghut-trades-2025q4

window:
  profile: us_equities_regular
  trading_day: '2026-02-27'
  timezone: America/New_York
  start: '2026-02-27T14:30:00Z'
  end: '2026-02-27T21:00:00Z'
  min_coverage_minutes: 390
  strict_coverage_ratio: 0.95

kafka:
  bootstrap_servers: kafka-kafka-bootstrap.kafka.svc.cluster.local:9092
  runtime_bootstrap_servers: kafka-kafka-bootstrap.kafka.svc.cluster.local:9092
  security_protocol: SASL_PLAINTEXT
  sasl_mechanism: SCRAM-SHA-512
  sasl_username: kafka-codex-credentials
  sasl_password_env: TORGHUT_SIM_KAFKA_PASSWORD
  runtime_security_protocol: SASL_PLAINTEXT
  runtime_sasl_mechanism: SCRAM-SHA-512
  runtime_sasl_username: kafka-codex-credentials
  runtime_sasl_password_env: TORGHUT_SIM_KAFKA_PASSWORD
  default_partitions: 8
  replication_factor: 1

clickhouse:
  http_url: http://torghut-clickhouse.torghut.svc.cluster.local:8123
  username: torghut
  password_env: TORGHUT_CLICKHOUSE_PASSWORD
  password_secret_name: torghut-clickhouse-auth
  password_secret_key: torghut_password
  secret_namespace: torghut
  simulation_database: torghut_sim_sim_2026_02_27_01

postgres:
  admin_dsn: postgresql://torghut_app@torghut-db-rw.torghut.svc.cluster.local:5432/postgres
  admin_dsn_password_env: TORGHUT_POSTGRES_PASSWORD
  simulation_dsn_template: postgresql://torghut_app@torghut-db-rw.torghut.svc.cluster.local:5432/{db}
  runtime_simulation_dsn_template: postgresql://torghut_app@torghut-db-rw.torghut.svc.cluster.local:5432/{db}
  migrations_command: /opt/venv/bin/alembic upgrade heads

runtime:
  namespace: torghut
  ta_configmap: torghut-ta-config
  ta_deployment: torghut-ta
  torghut_service: torghut
  output_root: artifacts/torghut/simulations

replay:
  pace_mode: accelerated
  acceleration: 60
  max_sleep_seconds: 5
  auto_offset_reset: earliest
  status_update_every_records: 25000
  status_update_every_seconds: 30

monitor:
  timeout_seconds: 1200
  poll_seconds: 20
  min_trade_decisions: 1
  min_executions: 1
  min_execution_tca_metrics: 1
  min_execution_order_events: 1
  cursor_grace_seconds: 120

argocd:
  manage_automation: true
  applicationset_name: product
  applicationset_namespace: argocd
  app_name: torghut
  desired_mode_during_run: manual
  restore_mode_after_run: previous
  verify_timeout_seconds: 600

reporting:
  commission_bps: '0'
  per_trade_fee: '0'

# Optional Torghut runtime overrides applied only during simulation `apply` and restored on `teardown`.
# If omitted, TRADING_FEATURE_MAX_STALENESS_MS is auto-derived from window.start.
# Keep explicit values when you need a custom staleness policy for the run.
torghut_env_overrides:
  TRADING_FEATURE_QUALITY_ENABLED: 'true'
  TRADING_FEATURE_MAX_STALENESS_MS: '43200000'

global
  log stdout format raw local0
  maxconn 4096

defaults
  log global
  mode tcp
  option tcplog
  timeout connect 5s
  timeout client  1m
  timeout server  1m

frontend k8s_api_altra
  bind *:6444
  default_backend altra_controlplanes

backend altra_controlplanes
  balance roundrobin
  option tcp-check
  default-server inter 2s fall 3 rise 2

  # Update these to match your altra control plane nodes.
  # server cp1 <ip1>:6443 check
  # server cp2 <ip2>:6443 check
  # server cp3 <ip3>:6443 check

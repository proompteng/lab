apiVersion: v1
kind: ConfigMap
metadata:
  name: torghut-ws-config
  namespace: torghut
data:
  ALPACA_MARKET_TYPE: "crypto"
  ALPACA_FEED: "iex"
  ALPACA_STREAM_URL: "wss://stream.data.alpaca.markets"
  ALPACA_TRADE_STREAM_URL: "wss://paper-api.alpaca.markets/stream"
  ALPACA_BASE_URL: "https://data.alpaca.markets"
  JANGAR_SYMBOLS_URL: "http://jangar.jangar.svc.cluster.local/api/torghut/symbols?assetClass=crypto"
  # Fallback so the ws forwarder can become ready if Jangar has no ready endpoints.
  SYMBOLS: "BTC/USD,ETH/USD,SOL/USD"
  SYMBOLS_POLL_INTERVAL_MS: "30000"
  SUBSCRIBE_BATCH_SIZE: "200"
  SHARD_COUNT: "1"
  SHARD_INDEX: "0"
  ENABLE_TRADE_UPDATES: "true"
  RECONNECT_BASE_MS: "500"
  RECONNECT_MAX_MS: "30000"
  DEDUP_TTL_SEC: "5"
  DEDUP_MAX_ENTRIES: "10000"
  KAFKA_BOOTSTRAP: "kafka-kafka-bootstrap.kafka:9092"
  KAFKA_SECURITY_PROTOCOL: "SASL_PLAINTEXT"
  KAFKA_SASL_MECH: "SCRAM-SHA-512"
  KAFKA_LINGER_MS: "30"
  KAFKA_BATCH_SIZE: "32768"
  KAFKA_ACKS: "all"
  TOPIC_TRADES: "torghut.trades.v1"
  TOPIC_QUOTES: "torghut.quotes.v1"
  TOPIC_BARS_1M: "torghut.bars.1m.v1"
  TOPIC_TRADE_UPDATES: "torghut.trade-updates.v1"
  TOPIC_STATUS: "torghut.status.v1"

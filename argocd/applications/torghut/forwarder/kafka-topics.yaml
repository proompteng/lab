apiVersion: kafka.strimzi.io/v1beta2
kind: KafkaTopic
metadata:
  name: alpaca-trades-v1
  namespace: kafka
  labels:
    strimzi.io/cluster: kafka
spec:
  topicName: alpaca.trades.v1
  partitions: 12
  replicas: 3
  config:
    retention.ms: 259200000  # 3d
    min.insync.replicas: 2
    segment.bytes: 134217728
---
apiVersion: kafka.strimzi.io/v1beta2
kind: KafkaTopic
metadata:
  name: alpaca-quotes-v1
  namespace: kafka
  labels:
    strimzi.io/cluster: kafka
spec:
  topicName: alpaca.quotes.v1
  partitions: 12
  replicas: 3
  config:
    retention.ms: 172800000  # 2d
    min.insync.replicas: 2
    segment.bytes: 134217728
---
apiVersion: kafka.strimzi.io/v1beta2
kind: KafkaTopic
metadata:
  name: alpaca-bars-1m-v1
  namespace: kafka
  labels:
    strimzi.io/cluster: kafka
spec:
  topicName: alpaca.bars.1m.v1
  partitions: 6
  replicas: 3
  config:
    retention.ms: 2592000000  # 30d
    min.insync.replicas: 2
    cleanup.policy: compact,delete
    delete.retention.ms: 604800000
    segment.bytes: 134217728
---
apiVersion: kafka.strimzi.io/v1beta2
kind: KafkaTopic
metadata:
  name: alpaca-status-v1
  namespace: kafka
  labels:
    strimzi.io/cluster: kafka
spec:
  topicName: alpaca.status.v1
  partitions: 3
  replicas: 3
  config:
    retention.ms: 604800000  # 7d
    min.insync.replicas: 2
    segment.bytes: 67108864

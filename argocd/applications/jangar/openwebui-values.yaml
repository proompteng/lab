ollama:
  enabled: false

ollamaUrls:
  - http://saigak.saigak.svc.cluster.local:11434

pipelines:
  enabled: false

tika:
  enabled: false

websocket:
  enabled: true
  manager: redis
  url: redis://jangar-openwebui-redis:6379/0
  redis:
    enabled: false

image:
  tag: v0.7.2

openaiApiKey: ""

serviceAccount:
  enable: true
  create: true
  name: ""

openaiBaseApiUrl: http://jangar.jangar.svc.cluster.local/openai/v1

databaseUrl: ""

extraEnvVars:
  - name: DATABASE_URL
    valueFrom:
      secretKeyRef:
        name: jangar-db-app
        key: uri
  - name: DATABASE_TYPE
    value: postgresql
  - name: PGSSLROOTCERT
    value: /etc/ssl/certs/jangar-db/ca.crt
  - name: PGSSLMODE
    value: require
  # Disable TLS when calling the HTTP-only Jangar OpenAI gateway
  - name: AIOHTTP_CLIENT_SESSION_SSL
    value: "false"
  - name: DEFAULT_MODELS
    value: gpt-5.3-codex,gpt-5.3-codex-spark
  - name: WEBUI_AUTH
    value: "false"
  - name: ENABLE_SIGNUP
    value: "false"
  # Forward chat/user identifiers to the upstream OpenAI-compatible backend
  - name: ENABLE_FORWARD_USER_INFO_HEADERS
    value: "true"
  - name: ENABLE_OLLAMA_API
    value: "true"

volumes:
  - name: jangar-db-ca
    secret:
      secretName: jangar-db-ca

volumeMounts:
  container:
    - name: jangar-db-ca
      mountPath: /etc/ssl/certs/jangar-db
      readOnly: true

resources:
  requests:
    cpu: "4"
    memory: 8Gi
  limits:
    cpu: "4"
    memory: 8Gi

# Increase OpenWebUI verbosity for debugging streaming issues
logging:
  level: debug
  components:
    openai: debug
    main: debug

persistence:
  storageClass: rook-ceph-block
  size: 5Gi

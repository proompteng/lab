apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization
namespace: jangar
resources:
  - deployment.yaml
  - service.yaml
  - github-token.yaml
  - discord-codex-bot-sealedsecret.yaml
  - kafka-username-secret.yaml
  - kafka-credentials-sealedsecret.yaml
  - codex-run-complete-kafkasource.yaml
  - app-tailscale-service.yaml
  - tailscale-service.yaml
  - postgres-cluster.yaml
  - openwebui-redis.yaml
  - pvc-rwx.yaml
  - vscode-tailscale-service.yaml
  - alloy-rbac.yaml
  - alloy-configmap.yaml
  - alloy-service.yaml
  - alloy-deployment.yaml
  - serviceaccount.yaml
  - clusterrolebinding.yaml

helmCharts:
  - name: open-webui
    repo: https://helm.openwebui.com
    version: 8.19.0
    releaseName: jangar-openwebui
    namespace: jangar
    valuesFile: openwebui-values.yaml

images:
  - name: registry.ide-newton.ts.net/lab/jangar
    newTag: "1edc5ed9"
    digest: sha256:4b036257f516b04ff97f2ee7f1b1b1247fd834e47698bc2b1205d00014980dbc

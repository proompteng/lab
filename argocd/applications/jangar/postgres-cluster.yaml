apiVersion: postgresql.cnpg.io/v1
kind: Cluster
metadata:
  name: jangar-db
spec:
  instances: 1
  primaryUpdateStrategy: unsupervised
  storage:
    storageClass: longhorn
    size: 5Gi
  bootstrap:
    initdb:
      database: jangar
      owner: jangar
      encoding: "UTF8"
      dataChecksums: true
  monitoring:
    enablePodMonitor: true
# CNPG defaults generate application credentials in `jangar-db-app` (uri, user, password, host, port, dbname)
# and the CA bundle in `jangar-db-ca` (ca.crt). JNG-080b will wire DATABASE_URL and PGSSLROOTCERT from these.

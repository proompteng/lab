apiVersion: agents.proompteng.ai/v1alpha1
kind: VersionControlProvider
metadata:
  name: github
spec:
  provider: github
  apiBaseUrl: https://api.github.com
  cloneBaseUrl: https://github.com
  webBaseUrl: https://github.com
  auth:
    method: token
    token:
      secretRef:
        name: github-token
        key: token
  repositoryPolicy:
    allow:
      - proompteng/lab
  capabilities:
    read: true
    write: true
    pullRequests: true
  defaults:
    baseBranch: main
    branchTemplate: codex/{{issueNumber}}
    branchConflictSuffixTemplate: "{{agentRun.name}}"
    commitAuthorName: "Greg Konush"
    commitAuthorEmail: 12027037+gregkonush@users.noreply.github.com
    pullRequest:
      enabled: true
      draft: false

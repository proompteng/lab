apiVersion: argoproj.io/v1alpha1
kind: WorkflowTemplate
metadata:
  name: jangar-checkpoint
  namespace: argo-workflows
spec:
  serviceAccountName: codex-workflow
  entrypoint: checkpoint
  templates:
    - name: checkpoint
      inputs:
        parameters:
          - name: memoryRef
            default: ''
          - name: checkpointId
            default: ''
          - name: payload
            default: ''
      container:
        image: alpine:3.20
        command:
          - /bin/sh
          - -c
        args:
          - |
            echo "checkpoint={{inputs.parameters.checkpointId}}"
            echo "memoryRef={{inputs.parameters.memoryRef}}"
            echo "payload={{inputs.parameters.payload}}"
